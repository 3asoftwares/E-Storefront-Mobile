# SonarCloud Configuration for E-Storefront Mobile
# ================================================
# 
# SETUP INSTRUCTIONS FOR GITHUB:
# 
# 1. Go to https://sonarcloud.io
# 2. Click "+" -> "Analyze new project"
# 3. Select "GitHub" and import your repository
# 4. Note the Project Key and Organization from SonarCloud
# 5. Update sonar.projectKey and sonar.organization below
# 6. Go to My Account -> Security -> Generate Token
# 7. In GitHub (Settings > Secrets > Actions), add:
#    - SONAR_TOKEN: (paste your token)
#
# SETUP INSTRUCTIONS FOR GITLAB:
#
# 1. Same steps 1-6 above
# 2. In GitLab (Settings > CI/CD > Variables), add:
#    - SONAR_TOKEN: (paste your token) - Protected & Masked
#
# ================================================

# SonarCloud server
sonar.host.url=https://sonarcloud.io

# Project identification (GitHub format)
sonar.projectKey=3a-softwares_E-Storefront-Mobile2
sonar.organization=3a-softwares
sonar.projectName=E-Storefront-Mobile
sonar.projectVersion=1.0.0

# Source code location
sonar.sources=app,src
sonar.tests=src/__tests__

# Exclusions
sonar.exclusions=\
  node_modules/**,\
  dist/**,\
  coverage/**,\
  .expo/**,\
  android/**,\
  ios/**,\
  builds/**,\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  cypress/**

# Test exclusions (don't analyze test files as source)
sonar.test.inclusions=\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx

# Language settings
sonar.language=ts
sonar.sourceEncoding=UTF-8

# TypeScript/JavaScript analysis
sonar.typescript.lcov.reportPaths=coverage/lcov.info
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# Code coverage
sonar.coverage.exclusions=\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  src/__tests__/**,\
  cypress/**,\
  **/*.config.js,\
  **/*.config.ts

# Duplications exclusions
sonar.cpd.exclusions=\
  **/*.test.ts,\
  **/*.test.tsx,\
  src/__tests__/**

# Quality Gate
sonar.qualitygate.wait=true
